
<div class="container">

    <h1 style="text-align: center; font: 150% sans-serif;">Listado de envios</h1>
        

<div>
<button style="border-radius: 30px; margin-bottom: 50px; margin-left: 80%;" pButton (click)="consultar()" type="button" label="Listar" ></button>
</div>

<div class="row">
    <p-table [value]="envios" responsiveLayout="scroll">

    <ng-template pTemplate="header">
        <tr>
            <th>Codigo</th>
            <th>Nombre Usuario</th>
            <th>Apellido Usuario</th>
            <th>Vehiculo</th>
            <th>Fecha Inicio</th>
            <th>Fecha Entrega</th>
            <th>Estado</th>
            <th></th>
        </tr>
    </ng-template>
    
    <ng-template pTemplate="body" let-aux>
        
        <tr>
            <td>{{aux.idEnvio}}</td>
            <td>{{aux.usuario!.nombre}}</td>
            <td>{{aux.usuario!.apellido}}</td>
            <td>{{aux.vehiculo!.placa}}</td>
            <td>{{aux.fechaInicio | date:'dd/MM/yyyy'}}</td>
            <td>{{aux.fechaEntrega | date:'dd/MM/yyyy'}}</td>
            <td>
                <p-tag *ngIf="aux.estado == 0" styleClass="mr-2" severity="danger" value="Rechazado"></p-tag>
                <p-tag *ngIf="aux.estado == 1" styleClass="mr-2" severity="info" value="Enviando"></p-tag>
                <p-tag *ngIf="aux.estado == 2" styleClass="mr-2" severity="success" value="Concluido"></p-tag>
            </td>
            <td><button *ngIf="aux.estado == 1"pButton pRipple (click)="finalizarEnvio(aux?.idEnvio)" type="button" label="Finalizar " class="p-button-raised p-button-success p-button-sm"></button></td>
        </tr>
        
    </ng-template>
</p-table>
</div>

</div>







